<div class="panel-body">
  <table class="table table-condensed">
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <th>name</th>
      <th>commute percentage</th>
      <td>&nbsp;</td>
    </tr>
    <tr ng-repeat="task in vm.tasks track by task.id | orderBy : task.input.commute-percentage">
      <td ng-switch="task.done">
        <span ng-switch-when="-1" title="simulation error" class="glyphicon glyphicon-warning-sign"></span>
        <span ng-switch-when="0" title="no output" class="glyphicon glyphicon-eye-close"></span>
        <a ng-switch-default href="#visualize" ng-click="vm.visualize(task)" title="show output"><span class="glyphicon glyphicon-eye-open"></span></a>
      </td>
      <td><a href="{{task.url}}" target="_blank" title="get raw data"><span class="glyphicon glyphicon-save-file"></span></a></td></td>
      <td ng-bind="task.input['name']"></td>
      <td ng-bind="task.input['commute-percentage']"></td>
      <td><a href="#" ng-click="vm.remove(task)" class="text-normal" title="remove simulation"><span class="glyphicon glyphicon-remove-circle"></span></a></td>
    </tr>
  </table>
  <div class="list-group">
    <a href="{{task.url}}" target="{{task.name}}" ng-repeat="task in vm.tasksAdded track by task.name" class="list-group-item">{{task.name}}</a>
  </div>
</div>

<script type="text/ng-template" id="removeSimulationModal.html">
<div id="removeSimulationModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" ng-click="cancel()">&times;</button>
        <h4 class="modal-title">Remove simulation</h4>
      </div>
      <div class="modal-body">
        <p ng-bind-template="Are you sure you want to remove simulation {{toRemove.input.name}} (with: id {{toRemove.id}; commute percentage {{toRemove.input.commute-percentage}})?"></p>
        <p ng-show="removeError" ng-bind="removeError" class="text-danger"></p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
        <button class="btn btn-danger" ng-click="remove()">Remove simulation</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
</script>
